<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨ Web Workers å®ç°è½®è¯¢ | å‰ç«¯å°èœ—</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/vuepress/img/home.jpeg">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/vuepress/assets/css/0.styles.189cad16.css" as="style"><link rel="preload" href="/vuepress/assets/js/app.40312837.js" as="script"><link rel="preload" href="/vuepress/assets/js/2.cf1e524c.js" as="script"><link rel="preload" href="/vuepress/assets/js/70.39d4195c.js" as="script"><link rel="prefetch" href="/vuepress/assets/js/10.a610a9ba.js"><link rel="prefetch" href="/vuepress/assets/js/11.f87d06bd.js"><link rel="prefetch" href="/vuepress/assets/js/12.11a58652.js"><link rel="prefetch" href="/vuepress/assets/js/13.110f8559.js"><link rel="prefetch" href="/vuepress/assets/js/14.322c46a5.js"><link rel="prefetch" href="/vuepress/assets/js/15.b2b443b5.js"><link rel="prefetch" href="/vuepress/assets/js/16.7ff17cba.js"><link rel="prefetch" href="/vuepress/assets/js/17.fc193e79.js"><link rel="prefetch" href="/vuepress/assets/js/18.52d0a4c4.js"><link rel="prefetch" href="/vuepress/assets/js/19.25f2d672.js"><link rel="prefetch" href="/vuepress/assets/js/20.c6723148.js"><link rel="prefetch" href="/vuepress/assets/js/21.74e5c0f6.js"><link rel="prefetch" href="/vuepress/assets/js/22.e6d1a64a.js"><link rel="prefetch" href="/vuepress/assets/js/23.86aba3c2.js"><link rel="prefetch" href="/vuepress/assets/js/24.3ae19470.js"><link rel="prefetch" href="/vuepress/assets/js/25.edcf91c9.js"><link rel="prefetch" href="/vuepress/assets/js/26.89319ef2.js"><link rel="prefetch" href="/vuepress/assets/js/27.9e533376.js"><link rel="prefetch" href="/vuepress/assets/js/28.93a6ba41.js"><link rel="prefetch" href="/vuepress/assets/js/29.d72f0022.js"><link rel="prefetch" href="/vuepress/assets/js/3.a5adedeb.js"><link rel="prefetch" href="/vuepress/assets/js/30.871cc77c.js"><link rel="prefetch" href="/vuepress/assets/js/31.11915659.js"><link rel="prefetch" href="/vuepress/assets/js/32.2d371a40.js"><link rel="prefetch" href="/vuepress/assets/js/33.19d049e9.js"><link rel="prefetch" href="/vuepress/assets/js/34.52633d55.js"><link rel="prefetch" href="/vuepress/assets/js/35.c77625e0.js"><link rel="prefetch" href="/vuepress/assets/js/36.ec517178.js"><link rel="prefetch" href="/vuepress/assets/js/37.e955d687.js"><link rel="prefetch" href="/vuepress/assets/js/38.a76e9c38.js"><link rel="prefetch" href="/vuepress/assets/js/39.0758c6eb.js"><link rel="prefetch" href="/vuepress/assets/js/4.7fc56b7b.js"><link rel="prefetch" href="/vuepress/assets/js/40.bfc21b26.js"><link rel="prefetch" href="/vuepress/assets/js/41.1cca45c8.js"><link rel="prefetch" href="/vuepress/assets/js/42.76b92fb2.js"><link rel="prefetch" href="/vuepress/assets/js/43.5bcb4c47.js"><link rel="prefetch" href="/vuepress/assets/js/44.0bf86704.js"><link rel="prefetch" href="/vuepress/assets/js/45.b6f1d2ae.js"><link rel="prefetch" href="/vuepress/assets/js/46.d942ba15.js"><link rel="prefetch" href="/vuepress/assets/js/47.8bb95ad0.js"><link rel="prefetch" href="/vuepress/assets/js/48.fb8ad7c2.js"><link rel="prefetch" href="/vuepress/assets/js/49.fb46b14b.js"><link rel="prefetch" href="/vuepress/assets/js/5.6ac62750.js"><link rel="prefetch" href="/vuepress/assets/js/50.49f08253.js"><link rel="prefetch" href="/vuepress/assets/js/51.7663b0cd.js"><link rel="prefetch" href="/vuepress/assets/js/52.90d8fc5a.js"><link rel="prefetch" href="/vuepress/assets/js/53.00bdcc76.js"><link rel="prefetch" href="/vuepress/assets/js/54.93e18111.js"><link rel="prefetch" href="/vuepress/assets/js/55.c887fc69.js"><link rel="prefetch" href="/vuepress/assets/js/56.0f6408ae.js"><link rel="prefetch" href="/vuepress/assets/js/57.e8334a13.js"><link rel="prefetch" href="/vuepress/assets/js/58.52393270.js"><link rel="prefetch" href="/vuepress/assets/js/59.d0661709.js"><link rel="prefetch" href="/vuepress/assets/js/6.d831054f.js"><link rel="prefetch" href="/vuepress/assets/js/60.0b34950f.js"><link rel="prefetch" href="/vuepress/assets/js/61.13e9f684.js"><link rel="prefetch" href="/vuepress/assets/js/62.caee8c5c.js"><link rel="prefetch" href="/vuepress/assets/js/63.a22fbd8d.js"><link rel="prefetch" href="/vuepress/assets/js/64.d8204a06.js"><link rel="prefetch" href="/vuepress/assets/js/65.4d094f10.js"><link rel="prefetch" href="/vuepress/assets/js/66.b4582d16.js"><link rel="prefetch" href="/vuepress/assets/js/67.93aa23db.js"><link rel="prefetch" href="/vuepress/assets/js/68.b57ddd04.js"><link rel="prefetch" href="/vuepress/assets/js/69.83923766.js"><link rel="prefetch" href="/vuepress/assets/js/7.b60f99e7.js"><link rel="prefetch" href="/vuepress/assets/js/71.e28be685.js"><link rel="prefetch" href="/vuepress/assets/js/72.e068c5cc.js"><link rel="prefetch" href="/vuepress/assets/js/73.3c5972cf.js"><link rel="prefetch" href="/vuepress/assets/js/74.2c300814.js"><link rel="prefetch" href="/vuepress/assets/js/75.16887871.js"><link rel="prefetch" href="/vuepress/assets/js/76.aef8e41e.js"><link rel="prefetch" href="/vuepress/assets/js/77.11355457.js"><link rel="prefetch" href="/vuepress/assets/js/78.d6a93a91.js"><link rel="prefetch" href="/vuepress/assets/js/79.394993f0.js"><link rel="prefetch" href="/vuepress/assets/js/8.affe4fa6.js"><link rel="prefetch" href="/vuepress/assets/js/80.60f3a775.js"><link rel="prefetch" href="/vuepress/assets/js/81.25fbce38.js"><link rel="prefetch" href="/vuepress/assets/js/82.beae6628.js"><link rel="prefetch" href="/vuepress/assets/js/83.3bd6257a.js"><link rel="prefetch" href="/vuepress/assets/js/84.851ad369.js"><link rel="prefetch" href="/vuepress/assets/js/85.8ddf405f.js"><link rel="prefetch" href="/vuepress/assets/js/86.8fcd8b07.js"><link rel="prefetch" href="/vuepress/assets/js/87.5d4b02bf.js"><link rel="prefetch" href="/vuepress/assets/js/88.e523ea38.js"><link rel="prefetch" href="/vuepress/assets/js/89.89ebef39.js"><link rel="prefetch" href="/vuepress/assets/js/9.a4881f71.js">
    <link rel="stylesheet" href="/vuepress/assets/css/0.styles.189cad16.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress/" class="home-link router-link-active"><img src="/vuepress/img/home.jpeg" alt="å‰ç«¯å°èœ—" class="logo"> <span class="site-name can-hide">å‰ç«¯å°èœ—</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/vuepress/guide/" class="nav-link">
  æŒ‡å—
</a></div><div class="nav-item"><a href="https://f2e.tech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‰ç«¯å­¦ä¹ è·¯å¾„
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://roadmap.sh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å­¦ä¹ è·¯çº¿å›¾
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://juejin.cn/user/61995432544503" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„å…¶ä»–æ–‡ç« 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/vuepress/guide/" class="nav-link">
  æŒ‡å—
</a></div><div class="nav-item"><a href="https://f2e.tech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‰ç«¯å­¦ä¹ è·¯å¾„
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://roadmap.sh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å­¦ä¹ è·¯çº¿å›¾
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://juejin.cn/user/61995432544503" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„å…¶ä»–æ–‡ç« 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuepress/guide/" class="sidebar-link">ä»‹ç»</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/JSåŸºç¡€/" class="sidebar-heading clickable"><span>JSåŸºç¡€</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/å°ç¨‹åº/" class="sidebar-heading clickable"><span>å°ç¨‹åº</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/æµè§ˆå™¨/" class="sidebar-heading clickable"><span>æµè§ˆå™¨</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/HTTP/" class="sidebar-heading clickable"><span>HTTP</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/Node/æ‹¦æˆªå™¨/" class="sidebar-heading clickable"><span>Node</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/Vue/vue" class="sidebar-heading clickable"><span>Vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/React/" class="sidebar-heading clickable"><span>React</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/ç®—æ³•/å¸¸è§ç®—æ³•/" class="sidebar-heading clickable"><span>ç®—æ³•</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/å·¥ç¨‹ä½“ç³»/" class="sidebar-heading clickable"><span>å‰ç«¯å·¥ç¨‹åŒ–</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/æœ€ä½³å®è·µ/" class="sidebar-heading clickable open"><span>æœ€ä½³å®è·µ</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="sidebar-link">æ€§èƒ½ä¼˜åŒ–</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8/" class="sidebar-link">å‰ç«¯å®‰å…¨é—®é¢˜</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" class="sidebar-link">å‡½æ•°å¼ç¼–ç¨‹</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81/" class="sidebar-link">é˜²æŠ–å’ŒèŠ‚æµçš„åŸç†å’Œå®ç°</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/Feed%E6%B5%81(%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%8E%A8%E8%8D%90)%E6%8E%A2%E7%B4%A2%E5%BA%94%E7%94%A8/" class="sidebar-link">Feedæµ(äº¤äº’å¼æ¨è)æ¢ç´¢åº”ç”¨</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%B0%86%E8%BD%AE%E8%AF%A2%E6%94%BE%E5%85%A5webworker%E4%B8%AD/" aria-current="page" class="active sidebar-link">å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨ Web Workers å®ç°è½®è¯¢</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%B0%86%E8%BD%AE%E8%AF%A2%E6%94%BE%E5%85%A5webworker%E4%B8%AD/#ğŸ¯-ç—›ç‚¹" class="sidebar-link">ğŸ¯ ç—›ç‚¹</a></li><li class="sidebar-sub-header"><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%B0%86%E8%BD%AE%E8%AF%A2%E6%94%BE%E5%85%A5webworker%E4%B8%AD/#âœ¨-å®ç°æ­¥éª¤" class="sidebar-link">âœ¨ å®ç°æ­¥éª¤</a></li><li class="sidebar-sub-header"><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%B0%86%E8%BD%AE%E8%AF%A2%E6%94%BE%E5%85%A5webworker%E4%B8%AD/#ğŸ“¦å®ç°ä»£ç " class="sidebar-link">ğŸ“¦å®ç°ä»£ç </a></li><li class="sidebar-sub-header"><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%B0%86%E8%BD%AE%E8%AF%A2%E6%94%BE%E5%85%A5webworker%E4%B8%AD/#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/webpack%E7%9F%A5%E8%AF%86%E7%82%B9/" class="sidebar-link">webpackçŸ¥è¯†ç‚¹</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/" class="sidebar-link">åƒåœ¾å›æ”¶æœºåˆ¶</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="sidebar-link">å¸¸ç”¨è®¾è®¡æ¨¡å¼</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0/" class="sidebar-link">æ–­ç‚¹ç»­ä¼ </a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E6%8B%96%E6%94%BE/" class="sidebar-link">æ‹–æ”¾</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E7%8A%B6%E6%80%81%E6%9C%BA/" class="sidebar-link">çŠ¶æ€æœº ï¼ˆfinite-state-machinesï¼‰</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E9%A2%84%E8%AF%B7%E6%B1%82%E7%AD%96%E7%95%A5/" class="sidebar-link">é¢„è¯·æ±‚ç­–ç•¥</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E6%89%8B%E6%9C%BA%E5%BC%80%E5%90%AF%E6%91%84%E5%83%8F%E5%A4%B4%E8%AF%86%E5%88%AB%E5%90%8E%E5%81%9A%E5%87%BA%E8%A1%8C%E4%B8%BA/" class="sidebar-link">ç½‘é¡µè°ƒç”¨æ‘„åƒå¤´è¯†åˆ«ç‰©ä½“ååšæˆè¡Œä¸º</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BAWebWorker/" class="sidebar-link">WebWorker å’ŒåŠ¨æ€åˆ›å»ºwebworker</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E7%BA%AFCSS%E5%AE%9E%E7%8E%B0%E6%96%87%E5%AD%97%E7%8E%AF%E7%BB%95/" class="sidebar-link">çº¯ CSS å®ç°æ–‡å­—æ¢è¡Œç¯ç»•æ•ˆæœ</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/%E5%AE%9E%E8%B7%B5-vue3%E9%A1%B9%E7%9B%AE%E9%99%8D%E7%BA%A7vue2/" class="sidebar-link">æŠŠ vue3 é¡¹ç›®é™çº§åˆ° vue2 â¬‡ï¸</a></li><li><a href="/vuepress/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/js%E7%94%9F%E6%88%90%E6%96%87%E4%BB%B6/" class="sidebar-link">é€šè¿‡åŸç”Ÿ JS å®Œæˆ html æ–‡ä»¶çš„ç”Ÿæˆ</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/TSæŒ‡å—/" class="sidebar-heading clickable"><span>TypeScrpit</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress/å¿ƒå¾—/" class="sidebar-heading clickable"><span>å¿ƒå¾—ä½“ä¼š</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="å‰ç«¯æ€§èƒ½ä¼˜åŒ–-ä½¿ç”¨-web-workers-å®ç°è½®è¯¢"><a href="#å‰ç«¯æ€§èƒ½ä¼˜åŒ–-ä½¿ç”¨-web-workers-å®ç°è½®è¯¢" class="header-anchor">#</a> å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨ Web Workers å®ç°è½®è¯¢</h1> <h2 id="ğŸ¯-ç—›ç‚¹"><a href="#ğŸ¯-ç—›ç‚¹" class="header-anchor">#</a> ğŸ¯ ç—›ç‚¹</h2> <p>è½®è¯¢æ˜¯ä¸€ç§å¸¸è§çš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯é€šä¿¡çš„æ–¹æ³•ï¼Œé€šè¿‡å®šæœŸå‘é€ HTTP è¯·æ±‚æ¥è·å–æœ€æ–°æ•°æ®ã€‚è¿™ç§æ–¹æ³•è™½ç„¶ç®€å•æ˜“å®ç°ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¯¹ä¸»çº¿ç¨‹æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ï¼Œæ¯”å¦‚éœ€è¦å…¼å®¹æ€§èƒ½è¾ƒå·®çš„æ‰‹æœºå’Œéœ€è¦é«˜æ€§èƒ½é¡µé¢ä¸å½±å“ä¸»è¿›ç¨‹æ—¶ã€‚</p> <p>åœ¨é¢å¯¹æ€§èƒ½è¾ƒå·®çš„æ‰‹æœºæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°½é‡çš„å‡å°‘ä¸»çº¿ç¨‹çš„ CPU å ç”¨ï¼Œå› ä¸ºä¸»çº¿ç¨‹éœ€è¦è¿›è¡Œ UI æ¸²æŸ“ï¼Œç”¨æˆ·æ“ä½œã€‚ä¸»çº¿ç¨‹è¢«é¢‘ç¹å ç”¨å¯èƒ½å¯¼è‡´é¡µé¢å“åº”å˜æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯èƒ½ä¼šæ„Ÿè§‰åˆ°é¡µé¢æ»šåŠ¨ä¸æµç•…ï¼ŒæŒ‰é’®ç‚¹å‡»ååº”è¿Ÿç¼“ç­‰ã€‚</p> <p>å› æ­¤ æˆ‘æƒ³ç»“åˆä¹‹å‰è¯´è¿‡çš„ webworker æ¥è§£å†³ï¼Œåˆ©ç”¨ Web Workers å°†è½®è¯¢ä»»åŠ¡ç§»å‡ºä¸»çº¿ç¨‹ã€‚</p> <p><img src="https://pub-a953275fa2c34c18b80fc1f84e3ea746.r2.dev/xiaowo/2024/06/ae4e0c74a03623770e92a071bbb35cbe.png" alt="">
Web Worker ä¸ºæµè§ˆå™¨æä¾›äº†å¤šçº¿ç¨‹å¤„ç†èƒ½åŠ›ï¼Œå…è®¸åœ¨åå°çº¿ç¨‹æ‰§è¡Œè„šæœ¬ï¼Œé¿å…äº†é•¿æ—¶é—´è¿è¡Œçš„è„šæœ¬å¯¼è‡´çš„é¡µé¢å¤±å»å“åº”ã€‚è¿™æ„å‘³ç€ï¼Œåƒè½®è¯¢è¿™æ ·çš„è€—æ—¶ä»»åŠ¡å¯ä»¥å§”æ‰˜ç»™ Worker çº¿ç¨‹å¤„ç†ï¼Œä¿è¯äº†ç”¨æˆ·ç•Œé¢çš„æµç•…æ€§ã€‚</p> <p>å…³äº webworker å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰å†™çš„è¿™ç¯‡ <a href="https://juejin.cn/post/7270114845403922471#heading-9" target="_blank" rel="noopener noreferrer">ã€Šä½ ä¸è¦å‘½å•¦ï¼ŸåŠ¨æ€åˆ›å»º Web Worker è¿˜èƒ½è¿™æ ·ç”¨å•Šï¼ã€‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="âœ¨-å®ç°æ­¥éª¤"><a href="#âœ¨-å®ç°æ­¥éª¤" class="header-anchor">#</a> âœ¨ å®ç°æ­¥éª¤</h2> <ol><li>åˆ›å»º Worker è„šæœ¬ï¼šé¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ªåŒ…å«è½®è¯¢é€»è¾‘çš„ JavaScript ä»£ç å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶å°è£…è¿›ä¸€ä¸ª Blob å¯¹è±¡ã€‚æ­¤ Blob å¯¹è±¡éšåè¢«ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Worker å®ä¾‹ã€‚</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      let requestCount = 0
        // å¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯
        self.onmessage = function(event) {
            ...
        };
        // å¼€å§‹è½®è¯¢å‡½æ•°
        function startPolling(interval, url, data, headers) {
            ...
        }
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;application/javascript&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>å®šä¹‰è½®è¯¢å‡½æ•°ï¼šåœ¨ Worker è„šæœ¬ä¸­ï¼Œå®šä¹‰ <code>startPolling</code> å‡½æ•°ï¼Œå®ƒè´Ÿè´£æ‰§è¡Œå®é™…çš„ HTTP è¯·æ±‚å¹¶è®¾ç½®ä¸‹ä¸€æ¬¡è½®è¯¢çš„å®šæ—¶å™¨ã€‚è¿™æ ·ï¼Œä¸€æ—¦æ¥æ”¶åˆ°ä¸»çº¿ç¨‹å‘æ¥çš„å¯åŠ¨å‘½ä»¤ï¼ŒWorker å°±ä¼šå¼€å§‹å‘¨æœŸæ€§åœ°è°ƒç”¨è¯¥å‡½æ•°ã€‚</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">startPolling</span><span class="token punctuation">(</span><span class="token parameter">interval<span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> headers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span>headers<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// å°†è¯·æ±‚ç»“æœå‘é€å›ä¸»çº¿ç¨‹</span>
        self<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> res<span class="token punctuation">,</span> <span class="token literal-property property">requestCount</span><span class="token operator">:</span> requestCount<span class="token operator">++</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Request failed:&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è°ƒç”¨è‡ªèº«ä»¥å®ç°æŒç»­è½®è¯¢</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>poll<span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// ç«‹å³æ‰§è¡Œä¸€æ¬¡</span>
  <span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>é…ç½®ä¸å¯åŠ¨è½®è¯¢ï¼šåœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œåˆ›å»º Worker å®ä¾‹åï¼Œé€šè¿‡ <code>postMessage</code> æ–¹æ³•å‘ Worker å‘é€åˆå§‹åŒ–ä¿¡æ¯ï¼ŒåŒ…æ‹¬è½®è¯¢é—´éš”ã€è¯·æ±‚çš„ URLã€è¯·æ±‚å¤´å’Œæ•°æ®ã€‚Worker æ¥æ”¶åˆ°è¿™äº›ä¿¡æ¯åï¼Œå¼€å§‹æ‰§è¡Œè½®è¯¢é€»è¾‘ã€‚</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">interval</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;http://192.168.110.145:18200/gateway/xxxxxx&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;content-type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json; charset=utf-8&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> Base64<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token function">serverTimeStamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">accountId</span><span class="token operator">:</span> Base64<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>tipWords<span class="token punctuation">.</span>userId<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">authToken</span><span class="token operator">:</span> <span class="token constant">TOKEN</span><span class="token punctuation">,</span>
    <span class="token literal-property property">requestId</span><span class="token operator">:</span> <span class="token function">getRandomNumberFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">secretCode</span><span class="token operator">:</span> RsaAndAes<span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>Key<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">encryptedData</span><span class="token operator">:</span> RsaAndAes<span class="token punctuation">.</span><span class="token function">encryptAes</span><span class="token punctuation">(</span>saveData<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// userId: tipWords.userId</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¯5ç§’è½®è¯¢ä¸€æ¬¡</span>
</code></pre></div><ol start="4"><li><p>å¤„ç†å“åº”ä¸é”™è¯¯ï¼šWorker å†…éƒ¨çš„è½®è¯¢å‡½æ•°é€šè¿‡ fetch API å‘èµ·è¯·æ±‚ï¼Œå¹¶å¤„ç†å“åº”æˆ–é”™è¯¯ã€‚æˆåŠŸè·å–åˆ°æ•°æ®åï¼Œé€šè¿‡ self.postMessage å°†ç»“æœä¼ å›ä¸»çº¿ç¨‹ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥è§£å¯†å’Œå¤„ç†ã€‚</p></li> <li><p>å®šä¹‰ç»ˆæ­¢æ¡ä»¶ï¼Œåœæ­¢ webworkerã€‚</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">.</span>requestCount <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    worker<span class="token punctuation">.</span><span class="token function">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ä¸šåŠ¡é€»è¾‘</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸ“¦å®ç°ä»£ç "><a href="#ğŸ“¦å®ç°ä»£ç " class="header-anchor">#</a> ğŸ“¦å®ç°ä»£ç </h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// pollWorker.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Base64 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'js-base64'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> RsaAndAes <span class="token keyword">from</span> <span class="token string">'~/composables/RsaAndAes'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getRandomNumberFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'~/composables/baseRequest'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
let requestCount = 0;
// å¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯
self.onmessage = function (event) {
  if (event.data.type === &quot;start&quot;) {
    // å¼€å§‹è½®è¯¢
    const interval = event.data.interval;
    startPolling(interval, event.data.url, event.data.data, event.data.headers);
  }
};

// å¼€å§‹è½®è¯¢å‡½æ•°
function startPolling(interval, url, data, headers) {
  function poll() {
    fetch(url, {
      method: &quot;POST&quot;,
      headers: new Headers(headers),
      body: JSON.stringify({ ...data }),
    })
      .then((response) =&gt; {
        return response.json();
      })
      .then((res) =&gt; {
        // å°†è¯·æ±‚ç»“æœå‘é€å›ä¸»çº¿ç¨‹
        self.postMessage({ res, requestCount: requestCount++ });
      })
      .catch((error) =&gt; {
        console.log(&quot;Request failed:&quot;, error);
      });

    // è°ƒç”¨è‡ªèº«ä»¥å®ç°æŒç»­è½®è¯¢
    setTimeout(poll, interval);
  }

  // ç«‹å³æ‰§è¡Œä¸€æ¬¡
  poll();
}
    </span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'application/javascript'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// å°†postå‡½æ•°ä¼ é€’ç»™WebWorker</span>

  <span class="token keyword">const</span> <span class="token constant">TOKEN</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> saveData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> interDomainName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token constant">ENV</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> nodeEnv <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span> 
  <span class="token keyword">const</span> Key <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">//å­˜å‚¨å…¬é’¥</span>

  <span class="token comment">// å‘é€å¼€å§‹æ¶ˆæ¯ç»™WebWorkerï¼Œä¼ é€’è½®è¯¢é—´éš”</span>
  worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'start'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">interval</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://192.168.110.145:18200/gateway/xxxxxxx'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'content-type'</span><span class="token operator">:</span> <span class="token string">'application/json; charset=utf-8'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">partnerId</span><span class="token operator">:</span> <span class="token string">'MTAy'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">accountId</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">countries</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">authToken</span><span class="token operator">:</span> <span class="token constant">TOKEN</span><span class="token punctuation">,</span>
      <span class="token literal-property property">requestId</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">secretCode</span><span class="token operator">:</span> RsaAndAes<span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>Key<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">encryptedData</span><span class="token operator">:</span> RsaAndAes<span class="token punctuation">.</span><span class="token function">encryptAes</span><span class="token punctuation">(</span>saveData<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¯5ç§’è½®è¯¢ä¸€æ¬¡</span>
  <span class="token keyword">return</span> worker<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h2> <p>ä½¿ç”¨ Web Workers å®ç°è½®è¯¢èƒ½å¤Ÿæ˜¾è‘—æ”¹å–„å‰ç«¯æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨è®¾å¤‡æˆ–ä½æ€§èƒ½è®¾å¤‡ä¸Šã€‚é€šè¿‡å°†è½®è¯¢ä»»åŠ¡ç§»è‡³åå°çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹å¾—ä»¥ä¸“æ³¨äºç”¨æˆ·ç•Œé¢çš„æ¸²æŸ“å’Œäº¤äº’ï¼Œæé«˜äº†åº”ç”¨çš„å“åº”é€Ÿåº¦å’Œæµç•…åº¦ã€‚</p> <p>ä¼˜åŠ¿ï¼š
ğŸš€ - å°†è€—æ—¶çš„ç½‘ç»œè¯·æ±‚å’Œæ•°æ®å¤„ç†ä»»åŠ¡ä»ä¸»çº¿ç¨‹ç§»è‡³ Web Workerï¼Œå‡å°‘äº†å¯¹ä¸»çº¿ç¨‹çš„å ç”¨ï¼Œä½¿ç”¨æˆ·ç•Œé¢æ›´æµç•…ã€‚
ğŸ’ª- ä¸»çº¿ç¨‹çš„ç©ºé—²æ—¶é—´å¢åŠ ï¼Œæœ‰åŠ©äºæå‡æ»šåŠ¨ã€ç‚¹å‡»ç­‰ç”¨æˆ·æ“ä½œçš„å“åº”é€Ÿåº¦ï¼Œé¿å…é¡µé¢å¡é¡¿ç°è±¡ã€‚
ğŸ›¡ï¸- Worker è‡ªèº«æ²™ç›’ç‰¹æ€§ä½¿é¡¹ç›®æ›´åŠ å®‰å…¨å¯é </p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress/assets/js/app.40312837.js" defer></script><script src="/vuepress/assets/js/2.cf1e524c.js" defer></script><script src="/vuepress/assets/js/70.39d4195c.js" defer></script>
  </body>
</html>
